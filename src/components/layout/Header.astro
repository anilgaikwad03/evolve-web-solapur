---
const navItems = [
  { name: 'Home', href: '/' },
  { name: 'Work', href: '/work' },
  { name: 'Services', href: '/services' },
  { name: 'About', href: '/about' },
  { name: 'Contact', href: '/contact' },
];
---

<header class="fixed top-0 w-full z-50 bg-white/80 dark:bg-black/80 backdrop-blur-md border-b border-gray-200/50 dark:border-gray-800/50">
  <!-- MOBILE FIX: Added px-4 for mobile, removed on desktop -->
  <div class="w-full px-4 sm:px-12 lg:grid-system">
    <nav class="flex items-center justify-between py-4">
      <!-- Logo -->
      <a href="/" class="flex items-center gap-2 group">
        <div class="w-10 h-10 bg-gradient-to-r from-blue-600 via-purple-600 to-cyan-600 dark:from-white dark:to-gray-300 rounded flex items-center justify-center shadow-lg">
          <span class="text-white dark:text-gray-900 font-grotesk font-bold text-lg">EW</span>
        </div>
        <div class="flex flex-col">
          <span class="font-grotesk font-bold text-xl text-blue-600 dark:text-white leading-none tracking-[0.025rem]">EVOLVE WEB</span>
          <span class="text-sm text-cyan-600 dark:text-gray-300 font-sans font-semibold tracking-[0.18rem]">‚ãÆ‚ãÆ‚ãÆSOLAPUR‚ãÆ‚ãÆ‚ãÆ</span>
        </div>
      </a>

      <!-- Desktop Navigation -->
      <div class="hidden lg:flex items-center space-x-8">
        {navItems.map((item) => (
          <a 
            href={item.href}
            class="font-grotesk text-sm uppercase font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors duration-300 relative group"
          >
            {item.name}
            <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-gray-900 dark:bg-white transition-all duration-300 group-hover:w-full"></span>
          </a>
        ))}
      </div>

      <!-- CTA & Mobile Menu -->
      <div class="flex items-center gap-4">
        <!-- Desktop CTA -->
        <a href="/contact" class="hidden md:block font-grotesk text-sm font-medium bg-gray-900 dark:bg-white text-white dark:text-gray-900 px-6 py-2.5 rounded-lg hover:bg-gray-800 dark:hover:bg-gray-100 transition-colors duration-300">
          Start Project
        </a>
        
        <!-- Theme Toggle -->
        <button id="themeToggle" class="p-2.5 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors">
          <span class="dark:hidden text-gray-600">üåô</span>
          <span class="hidden dark:inline text-gray-300">‚òÄÔ∏è</span>
        </button>

        <!-- Mobile Menu Button -->
        <button id="mobileMenuButton" class="lg:hidden relative w-6 h-6">
          <span id="menuLine1" class="absolute top-1 left-0 w-6 h-0.5 bg-gray-900 dark:bg-white transition-all duration-300"></span>
          <span id="menuLine2" class="absolute top-3 left-0 w-6 h-0.5 bg-gray-900 dark:bg-white transition-all duration-300"></span>
          <span id="menuLine3" class="absolute top-5 left-0 w-6 h-0.5 bg-gray-900 dark:bg-white transition-all duration-300"></span>
        </button>
      </div>
    </nav>

    <!-- Mobile Menu -->
    <div id="mobileMenu" class="lg:hidden absolute top-full left-0 w-full bg-white/95 dark:bg-black/95 backdrop-blur-md border-b border-gray-200 dark:border-gray-800 hidden">
      <!-- MOBILE FIX: Added px-4 for mobile menu -->
      <div class="px-4 sm:px-6 py-6 flex flex-col space-y-4">
        {navItems.map((item) => (
          <a 
            href={item.href}
            class="font-grotesk text-lg font-medium uppercase text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors py-3 border-b border-gray-100 dark:border-gray-800"
          >
            {item.name}
          </a>
        ))}
        <a href="/contact" class="font-grotesk text-lg font-medium bg-gray-900 dark:bg-white text-white dark:text-gray-900 px-6 py-3 rounded-lg hover:bg-gray-800 dark:hover:bg-gray-100 transition-colors text-center mt-4">
          Start Project
        </a>
      </div>
    </div>
  </div>
</header>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const mobileMenuButton = document.getElementById('mobileMenuButton');
    const mobileMenu = document.getElementById('mobileMenu');
    
    if (mobileMenuButton && mobileMenu) {
      const menuLine1 = document.getElementById('menuLine1');
      const menuLine2 = document.getElementById('menuLine2');
      const menuLine3 = document.getElementById('menuLine3');
      
      mobileMenuButton.addEventListener('click', () => {
        const isHidden = mobileMenu.classList.toggle('hidden');
        
        if (menuLine1 && menuLine2 && menuLine3) {
          if (isHidden) {
            menuLine1.style.transform = 'none';
            menuLine2.style.opacity = '1';
            menuLine3.style.transform = 'none';
          } else {
            menuLine1.style.transform = 'rotate(45deg) translate(6px, 6px)';
            menuLine2.style.opacity = '0';
            menuLine3.style.transform = 'rotate(-45deg) translate(6px, -6px)';
          }
        }
      });

      // Close menu when clicking on links
      const mobileLinks = mobileMenu.querySelectorAll('a');
      mobileLinks.forEach(link => {
        link.addEventListener('click', () => {
          mobileMenu.classList.add('hidden');
          if (menuLine1 && menuLine2 && menuLine3) {
            menuLine1.style.transform = 'none';
            menuLine2.style.opacity = '1';
            menuLine3.style.transform = 'none';
          }
        });
      });
    }
    
    // Theme toggle functionality
    const themeToggle = document.getElementById('themeToggle');
    if (themeToggle) {
      themeToggle.addEventListener('click', () => {
        const html = document.documentElement;
        html.classList.toggle('dark');
        localStorage.theme = html.classList.contains('dark') ? 'dark' : 'light';
      });
    }
  });
</script>